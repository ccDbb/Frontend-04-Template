## 一、js编译大致过程
拿到一段代码，在引擎执行这段代码之前会经过一些列的操作生成可执行代码，之后引擎才会根据这个可执行代码和作用域来执行代码。大体流程如下。
#### 1，编译器对拿到代码进行词法分析，比如let a=2;这段代码会进行拆分，let、a、=、2、;。空格在这里会进行忽略。
#### 2，进行语法分析，生成AST语法树。
这个过程中会涉及到产生式的概念，产生式，就是一种描述语法生成的一套规则。（不知道我这样理解是否正确）。

生成的Ast树过程中涉及到一个优先级的问题。比如
1+2*3 这个表达式生成的树应该是顶级节点是操作符"+"，左侧节点为"1"，右侧节点为"*"号，"*"号的左右侧分别为2和3，这样的一个语法树，如下图

![image-20200924182948901](/Users/cc/Library/Application Support/typora-user-images/image-20200924182948901.png)

所以这里涉及到优先级的问题。

在表达式中，member的优先级是最高的如下：

1. a.b

2. a[b]，这个和1中a.b的区别主要是方框里可以是变量

3. foo\`sting`反引号字符串模板如果foo是函数，可以当做拆分参数传入  

4. new foo

5. new new foo()运行顺序是先new foo（），等同于new (new foo())

6. 指数运算是右结合，比如

   ```
   2**1**4 //先算出来3的四次方，然后最为2的指数 结果是2
   ```

   

   

   

### 3, js引擎执行代码

从上到下按顺序执行代码，遇到回调或者微任务或者宏任务时会异步调用执行。

